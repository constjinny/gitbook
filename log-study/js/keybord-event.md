# keybord eventì— ëŒ€í•œ ë¶„ì„

## ğŸ˜¦ ì‚¬ê±´ì˜ ë°œë‹¨

{% hint style="danger" %}
input ê°’ ì…ë ¥ â†’ `onKeyDown`ë¥¼ í†µí•´ ê°±ì‹ /enter key ê°ì§€ â†’ ì €ì¥ â†’ input ê°’ ì´ˆê¸°í™”
{% endhint %}

ìœ„ì™€ ê°™ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë‹¤ê°€ í•œê¸€ì„ ì…ë ¥ í›„ `onKeyDown`ì„ í†µí•´ enter keyë¥¼ ëˆ„ë¥´ë©´ ì…ë ¥ëœ ê°’ì„ ì €ì¥ í•˜ë‹ˆ ë§ˆì§€ë§‰ 1ë¬¸ìê°€ ì”¹í˜€ë‚˜ì˜¤ëŠ” í˜„ìƒì´ ìˆì—ˆë‹¤.

ì¼ë‹¨ì€ `onKeyPress`ë¡œ ë³€ê²½í•˜ì—¬ ë§ˆë¬´ë¦¬í•˜ì˜€ì§€ë§Œ, ì •í™•í•œ ë¬¸ì œë¥¼ ëª¨ë¥´ë‹ˆ ì°ì°í•˜ì—¬ í•œë²ˆ ë‹¤ë¤„ë³´ìê³  ìƒê°í•˜ê²Œ ë˜ì—ˆê³ , \(ë“œë””ì–´\) ì •ë¦¬ë¥¼ í•´ë³´ë ¤ê³ í•œë‹¤.

## ğŸ‘©ğŸ½â€ğŸ’» keybord event

í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë€ ì‚¬ìš©ìê°€ í‚¤ë¥¼ ëˆ„ë¥´ê±°ë‚˜ ë†“ì•˜ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì´ë‹¤.

ì´ë²¤íŠ¸ ë°œìƒ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

`keyDown` â†’ `keyPress` â†’ `keyUp`

## âŒ¨ï¸ keybord event ì¢…ë¥˜

### keyUp

* í‚¤ë¥¼ ë†“ì•˜ì„ ë•Œ ë°œìƒ
* ì¡°í•©í˜• ë¬¸ì, Backspace/Control/Shift ë“± ì¸ì‹ ê°€ëŠ¥
* ì…ë ¥ë˜ëŠ” ë¬¸ìì˜ ê°¯ìˆ˜ê°€ ì¼ì¹˜í•¨

### keyDown

* í‚¤ë¥¼ ëˆ„ë¥¼ ë•Œ ë§ˆë‹¤ ë°œìƒ
* ì¡°í•©í˜• ë¬¸ì, Backspace/Control/Shift ë“± ì¸ì‹ ê°€ëŠ¥
* ëˆ„ë¥¼ ë•Œ ê¸°ì¤€ìœ¼ë¡œ 1ë¬¸ì ì”© ë°€ë ¤ ì¸ì§€í•œë‹¤.

### keyPress

* ë¬¸ìê°€ ì…ë ¥ë  ë•Œ ë°œìƒ
* ì¡°í•©í˜• ë¬¸ì, Backspace/Control/Shift ë“±ì€ ì¸ì‹ ë¶ˆê°€
* ë” ì´ìƒ ìƒˆë¡œìš´ ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›ì„ í•˜ì§€ ì•Šì„ ì˜ˆì •ì´ë¼í•˜ë‹ˆ ì‚¬ìš©ì„ ì§€ì–‘í•˜ëŠ”ê²Œ ì¢‹ê² ë‹¤.

## ğŸ‘¾ onKeyDown bug??

`onKeyDown`ì„ ì‚¬ìš©í•˜ì—¬ inputì— ë¬¸ìë¥¼ í›„ enterë¥¼ ëˆ„ë¥´ë©´ ì €ì¥ì´ ë˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë‹¤ê°€ ì¡°ê¸ˆ ì´ìƒí•œ ë¶€ë¶„ì„ ë°œê²¬í•˜ì˜€ë‹¤.

ì˜ë¬¸ì´ë‚˜ ìˆ«ì ì…ë ¥ì‹œì—ëŠ” ë¬¸ì œê°€ ì—†ëŠ”ë° í•œê¸€ì„ ì…ë ¥í•œ í›„ enterë¥¼ ëˆ„ë¥´ë©´,

![](../../.gitbook/assets/_2021-06-17__9.28.25.png)

ìœ„ ì˜ˆì‹œ ì²˜ëŸ¼ ë§ˆì§€ë§‰ 1ê¸€ìê°€ ì”¹í˜€ì„œ ê°™ì´ ì €ì¥ë˜ëŠ” ë¬¸ì œì˜€ë‹¤.

ì•„ë˜ì²˜ëŸ¼ enter keyê°€ ëˆŒë ¸ì„ ë•Œ ì´ë²¤íŠ¸ê°€ 2ë²ˆ ì‹¤í–‰ë˜ë©´ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.

ê·¸ëŸ¼, ë¹„êµë¥¼ ìœ„í•´ `onKeyDown` ì™¸ì— ë‹¤ë¥¸ ì´ë²¤íŠ¸ì˜ ê²½ìš°ë„ í™•ì¸í•´ë³´ì.

### onKeyDown

![](../../.gitbook/assets/_2021-06-18__12.06.36.png)

ì €ì¥ í›„ ì •ë¦¬ë˜ëŠ” ê²ƒ ê¹Œì§€ëŠ” ê´œì°®ë‹¤. í•˜ì§€ë§Œ enterê°€ 2ë²ˆì§¸ í˜¸ì¶œë˜ê¸° ì „ ë§ˆì§€ë§‰ 1ë¬¸ìê°€ ë‹¤ì‹œ ì—…ë°ì´íŠ¸ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. \(ì € ì•„ì´ëŠ” ì–´ë””ì„œ ì˜¤ëŠ”ê±¸ê¹Œ...?\)

### onKeyUp

![](../../.gitbook/assets/_2021-06-18__12.07.52.png)

ì´ë²¤íŠ¸ê°€ 2ë²ˆ ì‹¤í–‰ë˜ê¸´í•œë‹¤. í•˜ì§€ë§Œ ì €ì¥ì´ë˜ë©´ì„œ inputì— ì…ë ¥ë˜ì—ˆë˜ ê°’ì€ ê¹”ë”í•˜ê²Œ ì§€ì›Œì¡Œê³ , ì…ë ¥ëœ ê°’ì´ ì—†ìœ¼ë©´ ì €ì¥í•˜ì§€ ì•ŠëŠ” ë¡œì§ì„ ì¶”ê°€í•´ë†”ì„œ ì”¹íˆëŠ” ë¬¸ì œëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

### onKeyPress

![](../../.gitbook/assets/_2021-06-18__12.05.40.png)

ì‚¬ì‹¤ìƒ `onKeyPress`ëŠ” enterë¥¼ ëˆ„ë¥´ê¸° ì „ í•œê¸€ì„ ì…ë ¥í•˜ëŠ” ë™ì•ˆì€ ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ë‹¤. ê·¸ë˜ì„œ ê¹”ë”í•˜ê²Œ 1ë²ˆë§Œ ì‹¤í–‰ë˜ê³  ë§ˆë¬´ë¦¬ ë˜ì§€ë§Œ, ì´ê±°ì•¼ë§ë¡œ ë‹¤ë¥¸ ê¸°ëŠ¥ êµ¬í˜„ì‹œ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ì—ˆê³ , ë¹„ê¶Œì¥ ê¸°ëŠ¥ì´ë‹ˆ ì¢‹ì€ ë°©ë²• ì•„ë‹ˆë‹¤.

## ğŸ”  ì¡°í•©í˜• ë¬¸ìì™€ ì™„ì„±í˜• ë¬¸ì

## ğŸ’Š ì´ë ‡ê²Œ í•´ê²°í•´ë³´ì.

code sandbox : [https://codesandbox.io/s/key-event-test-8sbz4](https://codesandbox.io/s/key-event-test-8sbz4)

### A. ê°„ë‹¨í•˜ê²Œ onKeyUpì„ ì‚¬ìš©í•˜ì.

`onKeyUp`ë„ ì´ë²¤íŠ¸ê°€ 2ë²ˆ ì‹¤í–‰ë˜ëŠ”ê±´ ë™ì¼í•˜ë‹¤.

ì˜ë„ì¹˜ì•Šì€ ë¹ˆê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì£¼ì„ step3ì²˜ëŸ¼ í™•ì¸í•´ì£¼ëŠ” ê³¼ì •ì„ ê±°ì³ì•¼í•œë‹¤.

```javascript
// step1. í‚¤ ì´ë²¤íŠ¸ê°€ ë°œìƒ
const handleKeyup = (event) => {
	// step2-a. ì…ë ¥ëœ keyê°€ enterì¸ì§€ í™•ì¸í•œë‹¤.
	if (event.code === "Enter" && event.key === "Enter") {
		// step3. valueê°€ ìˆëŠ” ìƒíƒœì¸ì§€ í™•ì¸í•œë‹¤.
    if (value) {
			// step4. valueë¥¼ ì €ì¥í•˜ê³ , ì´ˆê¸°í™”ì‹œí‚¨ë‹¤.
	    setSaveds([...saveds, value]);
	    setValue("");
	  }
	}

	// step2-b. enterê°€ ì•„ë‹ˆë©´ ì´ë²¤íŠ¸ë¥¼ ì¢…ë£Œí•œë‹¤.
	return false;
};
```

* í•´ê²°ì€ ëœë‹¤. ë¶ˆí•„ìš”í•œ ì´ë²¤íŠ¸ ë°œìƒ ë¶€ë¶„ì´ ë­”ê°€ ì°ì°...

### B. throttleë¥¼ ì‚¬ìš©í•´ë³´ì.

throttleëŠ” ì¼ì • ì‹œê°„ì•ˆì— ì¤‘ë³µì´ë²¤íŠ¸ê°€ ë°œìƒí•´ë„ 1ë²ˆë§Œ ì²˜ë¦¬ë˜ê²Œë” í•´ì£¼ëŠ” ë°©ì‹ì´ë‹¤.

```javascript
let throttling = null;

const handleKeyup = (event) => {
	if (event.code === "Enter" && event.key === "Enter") {
		if (!throttling) {
			setTimeout(() => {
		    if (value) {
			    setSaveds([...saveds, value]);
			    setValue("");
			  }
      }, 100);
		}
		throttling = true;
	}

	return false;
};
```

* lodashë¥¼ í™œìš©í•˜ë©´ ë”ìš± í¸ë¦¬í•˜ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
* ìë§¤í’ˆ debounceë„ ìˆë‹¤. ë‹¤ìŒê¸€ì— ë‹¤ë¤„ë´ì•¼ê² ë‹¤.

## ë§ˆë¬´ë¦¬

ì´ì „ì— íšŒì‚¬ í”„ë¡œì íŠ¸ ì§„í–‰ì‹œ draft.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ì—ë””í„°ë¥¼ ë§Œë“¤ê²Œ ë˜ì—ˆì—ˆê³  ê·¸ë•Œë„ ì¡°í•©í˜• ë¬¸ì ë•Œë¬¸ì— ë¬¸ì œê°€ ìˆì—ˆëŠ”ë° ë˜ ë‹¤ì‹œ ì¡°í•©í˜• ë¬¸ì ë¬¸ì œë¡œ ì˜ì‹¬ë˜ëŠ” í˜„ìƒì„ ë§Œë‚˜ ì´ë²ˆ ê¸°íšŒì— ì¢€ ë” ì•Œì•„ë³´ìëŠ” ë§ˆìŒì´ì˜€ë‹¤.

ì‚¬ì‹¤ ì¡°í•©í˜• ë¬¸ìì— ëŒ€ ì •í™•íˆ ì´í•´í•˜ì§„ ì•Šì•˜ë‹¤. ì•ìœ¼ë¡œ ë¬¸ì ê´€ë ¨ ê¸°ëŠ¥ êµ¬í˜„ì‹œ ì¢€ ë” ì£¼ì˜í•˜ê²Œ ë  ê²ƒ ê°™ë‹¤.

## ì°¸ê³ 

* [https://xetown.com/tips/11368](https://xetown.com/tips/11368)
* [https://tapito.tistory.com/529](https://tapito.tistory.com/529)
* [https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=lovefavaz&logNo=140124605492](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=lovefavaz&logNo=140124605492)

